E='\x1b[38;5;46m';R='\033[0m';w(){ echo "$1"|fold -s -w 60;};b(){ a=("$@");printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";for l in "${a[@]}";do w "$l"|while IFS= read -r x;do printf "${E}|${R} %-58s ${E}|${R}\n" "$x";done;done;printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";};pause(){ echo;read -n1 -s -r -p "SCAN TO CONTINUE...";};submenu_list(){ while :;do clear;b "A - DIRECTORY LISTING" "1 = ls -lh" "2 = ls -lSh (size)" "3 = ls -lt (time)" "0 = Back";read -p "SCAN: " s;case "$s" in 1)clear;ls -lh;pause;;2)clear;ls -lSh;pause;;3)clear;ls -lt;pause;;0)break;;*)b "INVALID";pause;;esac;done;};submenu_hidden(){ clear;b "B - HIDDEN FILES";ls -lha|grep "^\."||echo "No hidden files.";pause;};submenu_tree(){ clear;b "C - TREE VIEW";tree . 2>/dev/null||echo "Install: sudo apt install tree";pause;};submenu_create(){ clear;b "D - CREATE FILE";read -p "Filename: " f;touch "$f"&&echo "Created $f"||echo "Failed.";pause;};submenu_nav(){ while :;do dirs=();mapfile -t dirs < <(find . -maxdepth 1 -type d|tail -n +2);clear;b "E - NAVIGATE DIRS";printf "${E}|${R} %-3s %-55s ${E}|${R}\n" "0" ".. (Up)";for i in "${!dirs[@]}";do printf "${E}|${R} %-3s %-55s ${E}|${R}\n" "$((i+1))" "${dirs[$i]}";done;printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";read -p "SCAN DIR: " d;[[ "$d" == "0" ]]&&cd ..&&break;if [[ "$d" =~ ^[0-9]+$ && $d -ge 1 && $d -le ${#dirs[@]} ]];then cd "${dirs[$((d-1))]}"&&break;else b "INVALID";pause;fi;done;};submenu_search(){ ks=(error log config debug pass access);clear;b "F - SEARCH KEYWORDS";for i in "${!ks[@]}";do printf "${E}|${R} %-3s %-55s ${E}|${R}\n" "$((i+1))" "${ks[$i]}";done;printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";read -p "SCAN: " k;[[ "$k" =~ ^[0-9]+$ && $k -ge 1 && $k -le ${#ks[@]} ]]&&grep -r --color=always "${ks[$((k-1))]}" . 2>/dev/null||echo "No matches.";pause;};submenu_filter(){ kf=(txt log conf json xml);clear;b "G - FILTER BY TYPE";for i in "${!kf[@]}";do printf "${E}|${R} %-3s %-55s ${E}|${R}\n" "$((i+1))" "${kf[$i]}";done;printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";read -p "SCAN: " f;[[ "$f" =~ ^[0-9]+$ && $f -ge 1 && $f -le ${#kf[@]} ]]&&find . -type f -iname "*.${kf[$((f-1))]}"||echo "No matches.";pause;};while :;do clear;b "BAAASH SYSTEMS INTERFACE 41386 - 2 OF SPADES" "MISSION: FILESYSTEM NAVIGATION" "MODE: SCANNER ONLY - NO KEYBOARD ENTRY" "CONTEXT: Training Module for Directory Recon" "ENVIRONMENT: LINUX (ANY DISTRO, ANY STATION)";b "SCAN MENU" "A = List Files" "B = Hidden Files" "C = Tree View" "D = Create File" "E = Navigate" "F = Search" "G = Filter" "Q = Exit";read -p "SCAN CODE: " c;case "${c^^}" in A)submenu_list;;B)submenu_hidden;;C)submenu_tree;;D)submenu_create;;E)submenu_nav;;F)submenu_search;;G)submenu_filter;;Q)clear;b "MODULE COMPLETE - EXITING";break;;*)b "INVALID";pause;;esac;done
