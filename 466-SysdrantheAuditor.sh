#!/bin/bash
ci(){ h=$(hostname); o=$(uname -s); k=$(uname -r); u=$(uptime -p); l=$(uptime | awk -F'load average:' '{print $2}'); d=$(df -h / | awk 'NR==2{print $5}'); m=$(free -h | awk 'NR==2{print $3 "/" $2}'); c=$(lscpu | grep 'Model name' | awk -F: '{print $2}' | sed 's/^[ \t]*//'); cc=$(nproc); p=$(ps -e | wc -l); ip=$(hostname -I | awk '{print $1}'); eip=$(curl -s ifconfig.me); op=$(ss -tuln | awk 'NR>1{print $5}' | cut -d: -f2 | sort -n | uniq); bv=${BASH_VERSION}; sv=${SHELL}; g=$(groups); he=${HOSTNAME}; ot=${OSTYPE}; wd=$(pwd); rn=${RANDOM}; uid=${UID}; cu=$(who); }
di(){ pu="\e[38;5;55m"; re="\e[31m"; rs="\e[0m"; b="________________________________________________________________"; e="echo -e"; p(){ printf "| ${re}%-30s %-30s${rs}${pu}|\n" "$1" "$2"; }; $e "${pu}$b"; $e "| SYSTEM INFO                                                  |"; $e "$b"; p "Hostname:" "$h"; p "OS:" "$o"; p "Kernel:" "$k"; p "Uptime:" "$u"; p "Load Avg:" "$l"; p "Disk Usage:" "$d"; p "Memory:" "$m"; p "CPU:" "$c"; p "Cores:" "$cc"; p "Procs:" "$p"; p "IP:" "$ip"; p "Ext IP:" "$eip"; p "Bash Ver:" "$bv"; p "Shell Ver:" "$sv"; p "Groups:" "$g"; p "Host(env):" "$he"; p "OS Type:" "$ot"; p "WD:" "$wd"; p "Rand Num:" "$rn"; p "UID:" "$uid"; $e "$b"; $e "| OPEN PORTS                                                   |"; $e "$b"; if [[ -z $op ]]; then p "No open ports" ""; else for port in $op; do p "Port:$port" ""; done; fi; $e "$b"; $e "| CURRENT USERS                                                |"; $e "$b"; while read -r user; do printf "| ${re}%-61s${rs}${pu}|\n" "$user"; done <<< "$cu"; $e "$b"; $e "${rs}"; }
g(){ while true; do clear; ci; di; echo ""; echo "Scan any to continue or 'q' to quit..."; read -n 1 key; if [[ $key == "q" ]]; then break; fi; done; }
g
