#!/usr/bin/env bash
E=$'\033[38;5;46m';R=$'\033[0m';w(){ [[ -n "$1" ]]&&echo "$1"|fold -s -w 60;};b(){ a=("$@");printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";for l in "${a[@]}";do w "$l"|while IFS= read -r x;do printf "${E}|${R} %-58s ${E}|${R}\n" "$x";done;done;printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";};pause(){ echo;read -n1 -s -r -p "SCAN TO CONTINUE...";};select_file(){ clear;b "SELECT TARGET FILE FOR PERMISSION CONTROL";mapfile -t files < <(find . -maxdepth 1 -type f);for i in "${!files[@]}";do printf "${E}|${R} %2s - %-53s ${E}|${R}\n" "$((i+1))" "${files[$i]}";done;printf "${E}+";printf -- '-%.0s' $(seq 1 60);printf "+${R}\n";read -p "ENTER NUMBER: " i;target="${files[$((i-1))]}";};show_status(){ clear;[ -n "$target" ]&&b "FILE STATUS: $target" "Permissions, Ownership, Size, Last Modified" "Use MODIFY to simulate real admin file handling scenarios." "$(stat -c '%A %U %G %s bytes %y' "$target")";pause;};mod_menu(){ while true;do clear;b "MODIFY MODULE: PERMISSION CODES FOR $target" "1 = Add Execute for Owner (chmod u+x)" "2 = Remove Write from Group (chmod g-w)" "3 = Add Read for Others (chmod o+r)" "4 = Set to Read/Write Default (chmod 644)" "5 = Change Owner to Root (chown root)" "6 = Return to Main Menu";read -p "ENTER NUMBER: " o;case "$o" in 1)chmod u+x "$target";;2)chmod g-w "$target";;3)chmod o+r "$target";;4)chmod 644 "$target";;5)sudo chown root "$target";;6)break;;*)b "INVALID NUMBER";pause;;esac;show_status;done;};while true;do clear;b "Bash.cards INTERFACE" "MISSION: FILE PERMISSIONS" "CONTEXT: chmod (change access), chown (change owner), and permission bits (rwx)";b "SCAN MENU OPTIONS" "1 = Select File" "2 = View File Permission Status" "3 = Modify File Permissions" "4 = Exit Training Module";read -p "ENTER NUMBER: " x;case "$x" in 1)select_file;;2)show_status;;3)mod_menu;;4)clear;b "MODULE EXITED â€” COMPLETE";break;;*)b "INVALID NUMBER";pause;;esac;done
