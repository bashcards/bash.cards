#!/bin/bash;
CB="\e[40m"; CT="\e[38;5;214m"; CR="\e[0m"; ROW="\e[40m\e[38;5;214m| %-3s %-55s |\e[0m\n"; BD="\e[40m\e[38;5;214m|=============================================================|\e[0m"; HDR="\e[40m\e[38;5;214m| %-59s |\e[0m\n"; d=$(pwd); nav() { while true; do clear; echo -e "${BD}"; printf "${HDR}" "File Explorer & Navigator"; echo -e "${BD}"; printf "${HDR}" "Current Directory: $d"; echo -e "${BD}"; printf "${ROW}" "1" "List Files" "2" "Show Hidden" "3" "Tree View" "4" "Create File" "5" "Navigate" "6" "Search" "7" "Filter" "q" "Quit"; echo -e "${BD}"; read -p "Option: " c; case "$c" in 1) clear; ls -lh "$d"; read -p "Press Enter..." ;; 2) clear; ls -lha "$d"; read -p "Press Enter..." ;; 3) clear; tree "$d" 2>/dev/null || echo "Install tree with 'sudo apt install tree'"; read -p "Press Enter..." ;; 4) read -p "New file: " f; touch "$d/$f"; echo "Created $f"; read -p "Press Enter..." ;; 5) nav_dir ;; 6) keyword_search ;; 7) keyword_filter ;; q) break ;; *) echo "Invalid option"; sleep 1 ;; esac; done; }; nav_dir() { clear; dirs=(".."); mapfile -t dirs < <(find "$d" -maxdepth 1 -type d ! -path "$d" ! -name ".*" -exec basename {} \;); echo -e "${BD}"; printf "${HDR}" "Directories in $d"; echo -e "${BD}"; printf "${ROW}" "0" "Go Back"; for i in "${!dirs[@]}"; do printf "${ROW}" "$((i+1))" "${dirs[$i]}"; done; echo -e "${BD}"; read -p "Dir: " dc; [[ "$dc" == "0" ]] && d=$(dirname "$d") || { [[ $dc =~ ^[0-9]+$ ]] && ((dc >= 1 && dc <= ${#dirs[@]})) && d="$d/${dirs[$((dc-1))]}"; }; read -p "Press Enter..."; }; keyword_search() { ks=("error" "log" "config" "debug" "password" "access"); echo -e "${BD}"; printf "${HDR}" "Keyword for search"; echo -e "${BD}"; for i in "${!ks[@]}"; do printf "${ROW}" "$((i+1))" "${ks[$i]}"; done; read -p "Keyword: " k; [[ $k =~ ^[0-9]+$ ]] && ((k >= 1 && k <= ${#ks[@]})) && grep -i --color=always "${ks[$((k-1))]}" "$d"/* 2>/dev/null || echo "No matches"; read -p "Press Enter..."; }; keyword_filter() { kf=("txt" "log" "conf" "json" "xml"); echo -e "${BD}"; printf "${HDR}" "Keyword for filter"; echo -e "${BD}"; for i in "${!kf[@]}"; do printf "${ROW}" "$((i+1))" "${kf[$i]}"; done; read -p "Filter: " f; [[ $f =~ ^[0-9]+$ ]] && ((f >= 1 && f <= ${#kf[@]})) && ls -lh "$d" | grep -i --color=always "${kf[$((f-1))]}" || echo "No matches"; read -p "Press Enter..."; }; nav
