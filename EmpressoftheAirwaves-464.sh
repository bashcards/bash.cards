#!/bin/bash;
CB="\e[40m";CT="\e[38;5;214m";CR="\e[0m";ROW="\e[40m\e[38;5;214m| %-3s %-55s |\e[0m\n";BD="\e[40m\e[38;5;214m|=============================================================|\e[0m";HDR="\e[40m\e[38;5;214m| %-59s |\e[0m\n";manage_wifi(){ while true;do clear;echo -e "${BD}";printf "${HDR}" "LaserWifi - Wi-Fi Management Tool";echo -e "${BD}";printf "${ROW}" "1" "Scan Wi-Fi Networks";printf "${ROW}" "2" "Connect to a Wi-Fi Network";printf "${ROW}" "3" "Quit";echo -e "${BD}";read -p "Select an option: " choice;case "$choice" in 1) scan_wifi_networks;;2) connect_to_wifi;;3) exit 0;;*) echo "Invalid option. Please try again.";sleep 1;;esac;done;};scan_wifi_networks(){ clear;echo -e "${BD}";printf "${HDR}" "Available Wi-Fi Networks";echo -e "${BD}";networks=$(nmcli -t -f SSID,BSSID,SIGNAL dev wifi list);if [[ -z $networks ]];then echo "No Wi-Fi networks found.";read -p "Press Enter to return to menu...";return;fi;mapfile -t network_list < <(echo "$networks");for i in "${!network_list[@]}";do printf "${ROW}" "$((i+1))" "${network_list[$i]}";done;echo -e "${BD}";read -p "Press Enter to return to menu...";};connect_to_wifi(){ clear;echo -e "${BD}";printf "${HDR}" "Available Wi-Fi Networks";echo -e "${BD}";networks=$(nmcli -t -f SSID,BSSID,SIGNAL dev wifi list);if [[ -z $networks ]];then echo "No Wi-Fi networks found.";read -p "Press Enter to return to menu...";return;fi;mapfile -t network_list < <(echo "$networks");for i in "${!network_list[@]}";do printf "${ROW}" "$((i+1))" "${network_list[$i]}";done;echo -e "${BD}";read -p "Select a network number to connect: " choice;if [[ $choice -ge 1 && $choice -le ${#network_list[@]} ]];then selected_network=$(echo "${network_list[$((choice-1))]}" | awk -F: '{print $1}');echo "Selected Network: $selected_network";read -p "Enter Wi-Fi password: " wifi_password;nmcli dev wifi connect "$selected_network" password "$wifi_password" || echo "Failed to connect.";else echo "Invalid choice.";fi;read -p "Press Enter to return to menu...";};manage_wifi
